<link rel="stylesheet" href="{{url_for('static', filename='css/shoppingCart.css')}}">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">


{% extends 'layout.html' %}
{% block title %}Shopping Cart{% endblock %}
    {% block body %}
    <section class="jumbotron text-center">
      <div class="container">
          <h1>Shopping Cart</h1>
      </div>
    </section>
    {% if data|length==0 %}
    <p class="text-center" style="margin: 15%;">Your Cart is empty right now. <a href="/groceries">Click here to Shop for products</a></p>
    {% else %}
    <div class="container mb-4">
      <div class="row">
          <div class="col-12">
              <div class="table-responsive">
                  <table class="table table-striped">
                      <thead>
                          <tr>
                              <th scope="col">Product</th>
                              <th scope="col">Product Name</th>
                              <th scope="col">Available</th>
                              <th scope="col" class="text-center">Quantity</th>
                              <th scope="col" class="text-right">Price</th>
                              <th> </th>
                          </tr>
                      </thead>
                      <tbody>
                        
                        {% for row in data %}
                          <tr>
                              <td><img src="{{url_for('static', filename='images/' + row[2])}}" style="width: 100px;"> </td>
                              <td>{{row [1]}}</td>
                              <td>Available</td>
                              <td><input class="form-control" type="text" value="1" readonly></td>
                              <td class="text-right">{{row[3]}}</td>
                              <td class="text-right"><a href="/removefromcart?C_ID={{row[0]}}"><button class="btn btn-sm btn-danger"><i class="fa fa-trash"></i> </button> </a></td>
                          </tr>
                        {% endfor %}
                          <tr>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td>Sub-Total</td>
                              <td class="text-right">{{totalPrice}}</td>
                          </tr>
                          <tr>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td>Shipping</td>
                              <td class="text-right text-danger">FREE</td>
                          </tr>
                          <tr>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td><strong>Total</strong></td>
                              <td class="text-right"><strong>{{totalPrice}}</strong></td>
                          </tr>
                      </tbody>
                  </table>
              </div>
          </div>
          <div class="col mb-2">
              <div class="row">
                  <div class="col-sm-12  col-md-6">
                      <a href="/groceries"><button class="btn btn-block btn-light">Continue Shopping</button></a>
                  </div>
                  <div class="col-sm-12 col-md-6 text-right">
                      <a href="/checkout"><button class="btn btn-lg btn-block btn-success text-uppercase">Checkout</button></a>
                  </div>
              </div>
          </div>
      </div>
    </div>
    {% endif %}
    {% endblock %}